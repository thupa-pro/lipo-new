/* Mobile-First Responsive Design System */

/* Base mobile styles (320px and up) */
.responsive-container {
  @apply w-full px-4 mx-auto;
  @apply sm:px-6 md:px-8 lg:px-12;
  @apply max-w-screen-sm sm:max-w-screen-md md:max-w-screen-lg lg:max-w-screen-xl xl:max-w-screen-2xl;
}

.responsive-grid {
  @apply grid gap-4;
  @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
}

.responsive-text {
  @apply text-sm sm:text-base md:text-lg lg:text-xl;
  @apply leading-relaxed sm:leading-relaxed md:leading-loose;
}

.responsive-heading {
  @apply text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl;
  @apply font-bold leading-tight tracking-tight;
}

.responsive-card {
  @apply p-4 sm:p-6 md:p-8;
  @apply rounded-2xl glass;
  @apply hover:scale-[1.02] transition-all duration-300;
  @apply touch-manipulation; /* Better mobile touch */
}

.responsive-button {
  @apply px-4 py-2 sm:px-6 sm:py-3 md:px-8 md:py-4;
  @apply text-sm sm:text-base md:text-lg;
  @apply rounded-xl sm:rounded-2xl;
  @apply min-h-[44px]; /* iOS minimum touch target */
  @apply touch-manipulation;
}

/* Mobile-specific optimizations */
@media (max-width: 767px) {
  .mobile-optimized {
    /* Larger touch targets */
    --min-touch-size: 44px;
  }
  
  .mobile-nav {
    @apply fixed bottom-0 left-0 right-0 z-50;
    @apply bg-background/95 backdrop-blur-md;
    @apply border-t border-white/20;
    @apply p-2;
  }
  
  .mobile-card {
    @apply mx-4 mb-4;
    @apply shadow-lg border border-white/20;
  }
  
  .mobile-form {
    @apply space-y-4;
  }
  
  .mobile-form input,
  .mobile-form textarea,
  .mobile-form select {
    @apply h-12 text-base; /* Prevent zoom on iOS */
  }
}

/* Tablet optimizations (768px - 1023px) */
@media (min-width: 768px) and (max-width: 1023px) {
  .tablet-grid {
    @apply grid-cols-2 gap-6;
  }
  
  .tablet-text {
    @apply text-base leading-relaxed;
  }
}

/* Desktop optimizations (1024px+) */
@media (min-width: 1024px) {
  .desktop-grid {
    @apply grid-cols-3 lg:grid-cols-4 gap-8;
  }
  
  .desktop-spacing {
    @apply px-8 py-12;
  }
}

/* High DPI displays */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .high-dpi-optimized {
    /* Optimize for retina displays */
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .motion-safe {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .high-contrast {
    --border-opacity: 1;
    --text-opacity: 1;
    border-width: 2px;
  }
}

/* Dark mode optimizations */
@media (prefers-color-scheme: dark) {
  .dark-mode-optimized {
    /* Better dark mode contrasts */
    --glass-background: rgba(0, 0, 0, 0.3);
    --glass-border: rgba(255, 255, 255, 0.1);
  }
}

/* Print styles */
@media print {
  .print-hidden {
    @apply hidden;
  }
  
  .print-optimized {
    @apply text-black bg-white;
    @apply shadow-none border border-gray-300;
  }
}

/* Focus management */
.focus-visible:focus-visible {
  @apply outline-none ring-2 ring-neural-500 ring-offset-2 ring-offset-background;
}

/* Safe area insets for mobile devices with notches */
.safe-area {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* Performance optimizations */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: transform, opacity;
}

.optimize-scrolling {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* Layout stability */
.layout-stable {
  content-visibility: auto;
  contain-intrinsic-size: 0 200px;
}

/* Critical CSS inlining helper */
.above-fold {
  /* Styles for above-the-fold content */
  font-display: swap;
  contain: layout style paint;
}

/* Accessibility helpers */
.sr-only {
  @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
  clip: rect(0, 0, 0, 0);
}

.sr-only:focus {
  @apply static w-auto h-auto p-2 m-0 overflow-visible whitespace-normal;
  clip: auto;
}

/* Loading states */
.skeleton-loading {
  @apply animate-pulse bg-gradient-to-r from-gray-300 via-gray-200 to-gray-300;
  @apply dark:from-gray-700 dark:via-gray-600 dark:to-gray-700;
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Interactive states for better UX */
.interactive {
  @apply cursor-pointer;
  @apply hover:scale-105 active:scale-95;
  @apply transition-transform duration-200 ease-out;
  @apply focus-visible:ring-2 focus-visible:ring-neural-500;
}

/* Modern scrollbar styling */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: rgb(var(--neural-500)) transparent;
}

.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgb(var(--neural-500) / 0.3);
  border-radius: 3px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--neural-500) / 0.5);
}
